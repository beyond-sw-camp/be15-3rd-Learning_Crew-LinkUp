<script setup>
import { ref } from 'vue'
import ReportModal from '@/components/common/ReportModal.vue'
// import '@/assets/css/admin-styles.css'


const isModalOpen = ref(false)
const modalType = ref('')
const targetInfo = ref('')

const openModal = (type) => {
  modalType.value = type

  // ë”ë¯¸ target ì •ë³´
  if (type === 'user') targetInfo.value = 'ì•…ì„±ìœ ì €123'
  else if (type === 'post') targetInfo.value = 'ì´ ê²Œì‹œê¸€ ë‚´ìš©ì€ ë„ˆë¬´ ë„ë°°ê°€ ì‹¬í•´ìš”.'
  else if (type === 'comment') targetInfo.value = 'ë¹„ì†ì–´ê°€ í¬í•¨ëœ ëŒ“ê¸€ì…ë‹ˆë‹¤.'

  isModalOpen.value = true
}

const handleSubmit = (payload) => {
  console.log('ğŸš¨ ì‹ ê³  ì œì¶œë¨:', payload)
  alert(`ì‹ ê³ ê°€ ì •ìƒì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n- ëŒ€ìƒ: ${targetInfo.value}\n- ìœ í˜•: ${payload.reportType}\n- ì‚¬ìœ : ${payload.reason}`)
  isModalOpen.value = false
}
</script>

<template>
  <div class="report-view">
    <h1>ì‹ ê³  ì˜ˆì‹œ í™”ë©´</h1>
    <div class="report-button-group">
      <button class="report-btn" @click="openModal('user')">ğŸ‘¤ ì‚¬ìš©ì ì‹ ê³ </button>
      <button class="report-btn" @click="openModal('post')">ğŸ“ ê²Œì‹œê¸€ ì‹ ê³ </button>
      <button class="report-btn" @click="openModal('comment')">ğŸ’¬ ëŒ“ê¸€ ì‹ ê³ </button>
    </div>

    <ReportModal
      v-if="isModalOpen"
      v-model="isModalOpen"
      :type="modalType"
      :target-info="targetInfo"
      @submit="handleSubmit"
    />
  </div>
</template>

<style scoped>

</style>
